# CredCalc — Ипотечный калькулятор

Веб-приложение для расчета ипотеки и рассрочки с визуализацией графика платежей. Построено на Python + Flask с современным темным интерфейсом.

## Возможности

### Расчет ипотеки
- **Ввод параметров:**
  - Стоимость жилья (₽)
  - Первоначальный взнос (₽)
  - Срок кредита (лет)
  - Процентная ставка (% годовых)

- **Результаты расчета:**
  - Ежемесячный платеж (₽)
  - Полная сумма всех платежей (₽)
  - Переплата в рублях (₽)
  - Переплата в процентах (%)

### Расчет рассрочки
- Расчет без процентной ставки (рассрочка)
- Те же параметры, кроме ставки

### Визуализация
- **Графическое изображение графика платежей:**
  - Структура платежей: визуализация распределения процентов и тела кредита по месяцам
  - Динамика остатка долга: график уменьшения задолженности

- **Таблица графика платежей:**
  - Детальная информация по каждому месяцу
  - Платеж, проценты, тело кредита, остаток долга

### Экспорт данных
- Экспорт графика платежей в Excel (`.xlsx`)
- Включает все параметры расчета и полный график платежей

## Технологии

- **Backend:** Python 3, Flask
- **Визуализация:** Matplotlib
- **Экспорт:** OpenPyXL
- **Frontend:** HTML, CSS, JavaScript
- **Точность расчетов:** Decimal для финансовых вычислений

## Установка и запуск

### Требования
- Python 3.8+

### Шаги установки

1. **Клонировать репозиторий:**
```bash
git clone https://github.com/FrexRub/CredCalc.git
cd CredCalc
```

2. **Установить зависимости:**
```bash
pip install -r requirements.txt
```

3. **Запустить сервер:**
```bash
python app.py
```

4. **Открыть в браузере:**
```
http://127.0.0.1:5000
```

## Структура проекта

```
CredCalc/
├── app.py              # Основное приложение Flask
├── requirements.txt    # Зависимости проекта
├── README.md           # Документация
├── static/
│   ├── style.css       # Стили интерфейса
│   └── app.js          # JavaScript для форматирования ввода
└── templates/
    └── index.html      # Шаблон главной страницы
```

## Особенности реализации

- **Аннуитетная схема платежей:** равные ежемесячные платежи
- **Высокая точность:** использование `Decimal` для финансовых расчетов
- **Темная тема:** современный UI с градиентами и эффектами
- **Адаптивный дизайн:** корректное отображение на мобильных устройствах
- **Валидация данных:** проверка корректности введенных значений
- **Форматирование чисел:** автоматическое форматирование сумм с пробелами

## Формула расчета

Используется стандартная формула аннуитетного платежа:

```
M = P × (r × (1 + r)^n) / ((1 + r)^n - 1)
```

где:
- `M` — ежемесячный платеж
- `P` — сумма кредита (стоимость жилья - первоначальный взнос)
- `r` — месячная процентная ставка (годовая ставка / 12 / 100)
- `n` — количество месяцев

## Лицензия

Проект создан в образовательных целях.
